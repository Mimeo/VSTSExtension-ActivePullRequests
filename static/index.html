<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>All Active Pull Requests</title>
    <link rel="stylesheet" href="css/app.css" type="text/css" />
    <script type="text/javascript">
        function isInternetExplorer() {
            const ua = window.navigator.userAgent;
            if (ua.indexOf("Trident/7.0") > 0 || ua.indexOf("Trident/6.0") > 0 || ua.indexOf("Trident/5.0") > 0)
                return true;
            else
                return false;
        }

        // IE polyfill
        if (isInternetExplorer()) {
            const importScript = document.createElement('ed');
            importScript.src = '../lib/polyfill/es6-shim.min.js';
            document.head.appendChild(importScript);
        }
    </script>
    <script type="text/javascript">
        // array.find polyfill for IE
        if (!Array.prototype.find) {
            Object.defineProperty(Array.prototype, 'find', {
                value: function(predicate) {
                // 1. Let O be ? ToObject(this value).
                if (this == null) {
                    throw new TypeError('"this" is null or not defined');
                }

                var o = Object(this);

                // 2. Let len be ? ToLength(? Get(O, "length")).
                var len = o.length >>> 0;

                // 3. If IsCallable(predicate) is false, throw a TypeError exception.
                if (typeof predicate !== 'function') {
                    throw new TypeError('predicate must be a function');
                }

                // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.
                var thisArg = arguments[1];

                // 5. Let k be 0.
                var k = 0;

                // 6. Repeat, while k < len
                while (k < len) {
                    // a. Let Pk be ! ToString(k).
                    // b. Let kValue be ? Get(O, Pk).
                    // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).
                    // d. If testResult is true, return kValue.
                    var kValue = o[k];
                    if (predicate.call(thisArg, kValue, k, o)) {
                    return kValue;
                    }
                    // e. Increase k by 1.
                    k++;
                }

                // 7. Return undefined.
                return undefined;
                },
                configurable: true,
                writable: true
            });
        }
    </script>
    <script src="../lib/VSS.SDK.min.js"></script>
    <script src="../lib/sorttable.js"></script>
</head>
<body>
    <script type="text/javascript">
        // Initialize the VSS sdk
        VSS.init({
            usePlatformScripts: true,
            usePlatformStyles: true,
            applyTheme: true
        });

        // Wait for the SDK to be initialized
        VSS.ready(function () {
            VSS.require(["dist/app"], function (app) { });
        });
    </script>

    <h1 id="pr-header">All Repositories</h1>

    <table id="pr-table">
        <thead>
            <tr class="table-row table-header">
                <th class="sorttable_nosort"><!-- Space reserved for user avatar --></th>
                <th>Created By</th>
                <th class="pr-id-header">Id</th>
                <th>Title</th>
                <th>Repository</th>
                <th>Base</th>
                <th>Target</th>
                <th>Build Status</th>
                <th>My Vote</th>
                <th>Reviewers</th>
            </tr>
        </thead>
        <tbody id="pr-body" class="loading"></tbody>
    </table>
    <div id="special-message" class="tempmsg">If this message doesn't disappear after several seconds please contact your administrator to uninstall and reinstall the All Active Pull Requests extension. See <a href="https://github.com/Mimeo/VSTSExtension-ActivePullRequests/issues/39">GitHub issue #39</a> for information</div>
</body>

</html>